<Sql TableName="Migration" CustomScript="#CDATA">
    <CDATA name="CustomScript"><![CDATA[--[mssql: Native]
--[mysql: Skip]

IF ((EXISTS (SELECT
    *
  FROM INFORMATION_SCHEMA.TABLES
  WHERE TABLE_NAME = 'DocuSignAccount')
  ))
BEGIN
  SET
  IDENTITY_INSERT [dbo].[ESignAccount]
  ON;
  INSERT INTO [dbo].[ESignAccount] ([CompanyID], [AccountID], [AccountCD], [IsActive], [Type], [ApiUrl], [SendReminders], [FirstReminderDay], [ReminderFrequency], [ExpiredDays], [WarnDays], [OwnerID], [CreatedByID], [CreatedByScreenID], [CreatedDateTime], [LastModifiedByID], [LastModifiedByScreenID], [LastModifiedDateTime], [IsTestApi], [Email], [Password], [ReminderType], [ProviderType], [Status])
    SELECT
      [CompanyID],
      [AccountID],
      [AccountCD],
      [Active],
      [Type],
      [ApiUrl],
      [SendReminders],
      [FirstReminderDay],
      [ReminderFrequency],
      [ExpiredDays],
      [WarnDays],
      [OwnerID],
      [CreatedByID],
      [CreatedByScreenID],
      [CreatedDateTime],
      [LastModifiedByID],
      [LastModifiedByScreenID],
      [LastModifiedDateTime],
      [IsTestApi],
      [Email],
      [Password],
      'DAILY_UNTIL_SIGNED',
      'D',
      'Connected'
    FROM [dbo].[DocuSignAccount]
    WHERE NOT EXISTS (SELECT
      1
    FROM [dbo].[ESignAccount]
    WHERE [dbo].[DocuSignAccount].[CompanyID] = [dbo].[ESignAccount].[CompanyID]
    AND [dbo].[DocuSignAccount].[AccountID] = [dbo].[ESignAccount].[AccountID])
  SET
  IDENTITY_INSERT [dbo].[ESignAccount] OFF;
END

IF ((EXISTS (SELECT
    *
  FROM INFORMATION_SCHEMA.TABLES
  WHERE TABLE_NAME = 'DocuSignEnvelopeInfo')
  ))
BEGIN
  SET
  IDENTITY_INSERT [dbo].[ESignEnvelopeInfo]
  ON;
  INSERT INTO [dbo].[ESignEnvelopeInfo] ([CompanyID], [EnvelopeInfoID], [CompletedFileName], [CompletedFileID], [FileID], [FileRevisionID], [EnvelopeID], [LastStatus], [ActivityDate], [ExpirationDate], [ESignAccountID], [Theme], [MessageBody], [SendReminders], [IsOrder], [FirstReminderDay], [ReminderFrequency], [ExpiredDays], [WarnDays], [IsFinalVersion], [SendDate], [CreatedByID], [CreatedByScreenID], [CreatedDateTime], [LastModifiedByID], [LastModifiedByScreenID], [LastModifiedDateTime], [ReminderType])
    SELECT
      [CompanyID],
      [EnvelopeInfoID],
      [CompletedFileName],
      [CompletedFileID],
      [FileID],
      [FileRevisionID],
      [EnvelopeID],
      [LastStatus],
      [ActivityDate],
      [ExpirationDate],
      [DocuSignAccountID],
      [Theme],
      [MessageBody],
      [SendReminders],
      [IsOrder],
      [FirstReminderDay],
      [ReminderFrequency],
      [ExpiredDays],
      [WarnDays],
      [IsFinalVersion],
      [SendDate],
      [CreatedByID],
      [CreatedByScreenID],
      [CreatedDateTime],
      [LastModifiedByID],
      [LastModifiedByScreenID],
      [LastModifiedDateTime],
      'DAILY_UNTIL_SIGNED'
    FROM [dbo].[DocuSignEnvelopeInfo]
    WHERE NOT EXISTS (SELECT
      1
    FROM [dbo].[ESignEnvelopeInfo]
    WHERE [dbo].[DocuSignEnvelopeInfo].[CompanyID] = [dbo].[ESignEnvelopeInfo].[CompanyID]
    AND [dbo].[DocuSignEnvelopeInfo].[EnvelopeInfoID] = [dbo].[ESignEnvelopeInfo].[EnvelopeInfoID])
END

IF ((EXISTS (SELECT
    *
  FROM INFORMATION_SCHEMA.TABLES
  WHERE TABLE_NAME = 'DocuSignAccountUserRule')
  ))
BEGIN
  INSERT INTO [dbo].[ESignAccountUserRule] ([CompanyID], [AccountID], [OwnerID], [CreatedByID], [CreatedByScreenID], [CreatedDateTime], [LastModifiedByID], [LastModifiedByScreenID], [LastModifiedDateTime])
    SELECT
      [CompanyID],
      [AccountID],
      [OwnerID],
      [CreatedByID],
      [CreatedByScreenID],
      [CreatedDateTime],
      [LastModifiedByID],
      [LastModifiedByScreenID],
      [LastModifiedDateTime]
    FROM [dbo].[DocuSignAccountUserRule]
    WHERE NOT EXISTS (SELECT
      1
    FROM [dbo].[ESignAccountUserRule]
    WHERE [dbo].[DocuSignAccountUserRule].[CompanyID] = [dbo].[ESignAccountUserRule].[CompanyID]
    AND [dbo].[DocuSignAccountUserRule].[AccountID] = [dbo].[ESignAccountUserRule].[AccountID]
    AND [dbo].[DocuSignAccountUserRule].[OwnerID] = [dbo].[ESignAccountUserRule].[OwnerID])
  SET
  IDENTITY_INSERT [dbo].[ESignEnvelopeInfo] OFF;
END

IF ((EXISTS (SELECT
    *
  FROM INFORMATION_SCHEMA.TABLES
  WHERE TABLE_NAME = 'DocuSignRecipient')
  ))
BEGIN
  SET
  IDENTITY_INSERT [dbo].[ESignRecipient]
  ON;
  INSERT INTO [dbo].[ESignRecipient] ([CompanyID], [RecipientID], [EnvelopeInfoID], [Email], [Name], [Position], [CustomMessage], [Type], [Status], [SignedDateTime], [DeliveredDateTime], [CreatedByID], [CreatedByScreenID], [CreatedDateTime], [LastModifiedByID], [LastModifiedByScreenID], [LastModifiedDateTime])
    SELECT
      [CompanyID],
      [RecipientID],
      [EnvelopeInfoID],
      [Email],
      [Name],
      [Position],
      [CustomMessage],
      [Type],
      [Status],
      [SignedDateTime],
      [DeliveredDateTime],
      [CreatedByID],
      [CreatedByScreenID],
      [CreatedDateTime],
      [LastModifiedByID],
      [LastModifiedByScreenID],
      [LastModifiedDateTime]
    FROM [dbo].[DocuSignRecipient]
    WHERE NOT EXISTS (SELECT
      1
    FROM [dbo].[ESignRecipient]
    WHERE [dbo].[DocuSignRecipient].[CompanyID] = [dbo].[ESignRecipient].[CompanyID]
    AND [dbo].[DocuSignRecipient].[RecipientID] = [dbo].[ESignRecipient].[RecipientID])
  SET
  IDENTITY_INSERT [dbo].[ESignRecipient] OFF;
END]]></CDATA>
</Sql>